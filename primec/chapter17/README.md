## 第17章 高级数据表示
介绍以下内容：
- 函数：进一步学习 malloc()
- 使用C表示不同类型的数据
- 新的算法，从概念上增强开发程序的能力
- 抽象数据类型（ADT）

学习计算机语言和学习音乐、木工或工程学一样。首先，要学会使用工具，然后解决各种问题。然而，想提高到更高层次时，工具是次要的，真正的挑战是设计和创建一个项目。
本章将重点介绍这个更高的层次，教会如何把项目看作一个整体。

先从程序设计的关键部分，即程序表示数据的方式开始。通常，程序开发最重要的部分是找到程序中表示数据的好方法。正确地表示数据可以更容易地编写程序其余部分。

然而，找出正确的数据表示不仅仅是选择一种数据类型，还要考虑必须进行哪些操作。也就是说，必须确定如何存储数据，并且为数据类型定义有效的操作。
在C语言中，可以把所需的操作设计成C函数来表示。简而言之，设计一种数据类型包括设计如何储存该数据类型和设计一系列管理该数据的函数。

本章还会介绍一些算法，即操作数据的方法。作为一名程序员，应该掌握这些可以反复解决类似问题的处理方法。

本章将进一步研究设计数据类型的过程，这是一个把算法和数据表示相匹配的过程。会用到常见的数据形式，如队列、列表和二叉树。

本章还将介绍抽象数据类型（ADT）的概念。抽象数据类型以面向问题而不是面向语言的方式，把解决问题的方法和数据表示结合起来。设计一个ADT后，可以在不同的环境中复用。

### 17.1 研究数据表示

### 17.2 从数组到链表

### 17.3 抽象数据类型（ADT） 
使用抽象数据类型方法编程包含以下3个步骤：
1. 以抽象、通用的方式描述一个类型，包括该类型的操作。
2. 设计一个函数接口表示这个新类型。
3. 编写具体代码实现这个接口。

### 17.4 队列ADT
队列（queue，先进先出，First In，First Out，缩写为FIFO）是具有两个特殊属性的链表。

第一，新项只能添加到链表末尾。

第二，只能从链表的开头移除项。

非正式的抽象定义：
- 类型名：队列
- 类型属性：可以储存一系列项
- 类型操作：
    - 初始化队列为空 `void InitializeQueue(Queue *qp)`
    - 确定队列为空 `bool QueueIsFull(const Queue *pq)`
    - 确定队列已满 `bool QueueIsEmpty(const Queue *pq)`
    - 确定队列中的项数 `int QueueItemCount(const Queue *pq)`
    - 在队列末尾添加项 `bool EnQueue(Item item, Queue *pq)`
    - 在队列开头删除或恢复项 `bool DeQueue(Item *pitem, Queue *pq)`
    - 清空队列 `void EmptyTheQueue(Queue *pq)`


### 17.5 用队列进行模拟
示例：

[测试](use_q.c)

[使用](mall.c)


### 17.6 链表和数组

### 17.7 二叉树查找
二叉查找树是一种结合了二分查找策略的链接结构。二叉树的每个节点都包含一个项和两个指向其他节点（称为子节点）的指针。

二叉树中的每个节点都包含两个子节点——左节点和右节点，其顺序：左节点的项在父节点的项前面，由节点的项在父节点的项后面。这种关系存在于每个有子节点的节点中。进一步而言，所有可以追溯其祖先回到一个父节点的右节点的左节点的项，都在该节点的项的前面；所有以一个父节点的右节点为祖先的项，都在该父节点项的后面。

二叉查找树中的每个节点是其后代节点的根，该节点与其后代节点构成了一个子树（subtree）。

假设要在二叉树中查找一个项，如果目标项在根节点项的前面，则只需查找左子树；如果目标项在根节点项的后面，则只需查找右子树。因此，每次比较就排除半个树，与二分查找类似。

非正式树定义：
- 类型名：二叉查找树
- 类型属性：
    - 二叉树要么是空节点的集合（空树），要么是有一个根节点的节点集合
    - 每个节点都有两个子树，叫做左子树和右子树
    - 每个子树本身也是一个二叉树，也有可能是空树
    - 二叉查找树是一个有序的二叉树，每个节点包含一个项，左子树的所有项都在根节点项的前面，右子树的所有项都在根节点项的后面。

- 类型操作：
    - 初始化树为空
    - 确定树是否为空
    - 确定树是否已满
    - 确定树中的项数
    - 在树中添加一个项
    - 在树中删除一个项
    - 在树中查找一个项
    - 在树中访问一个项
    - 清空树

### 17.8 其他说明
花时间查看你的系统提供什么。如果没有你想要的工具，就自己编写函数。这是C的一部分。如果认为自己能编写一个更好的，那就去做！只有不断练习并提高自己的编程技术，才会成长为经验丰富的资深程序员。

如果对链表、队列和树的相关概念感兴趣或觉得很有用，可以阅读其他相关的书籍，学习高级编程技巧。也许会发现已经有人开发了你正需要的工具。

### 17.9 关键概念
一种数据类型通过以下几点来表征：如何构建数据、如何储存数据、有哪些可能的操作。抽象数据类型（ADT）以抽象的方式指定构成某种类型特型的属性和操作。

从概念上看，可以分两步把ADT翻译成一种特定的编程语言。
- 第一步，定义编程接口，在C中，通过使用头文件定义类型名，并提供与允许的操作相应的函数原型来实现。
- 第二步，实现接口，在C中，可以用源代码文件提供与函数原型相应的函数来定义实现。

### 17.10 本章小结
链表、队列和二叉树是ADT在计算机程序设计中常用的示例。通常**用动态内存分配和链式结构**来实现它们，但有时用数组来实现会更好。

当使用一种特定类型（如队列或树）进行编程时，要根据类型接口来编写程序。这样，**在修改或改进实现时就不用更改使用接口的那些程序。**